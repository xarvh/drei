<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Drei</title>

    <link rel="stylesheet" href="static/index.css"></link>
    <script type="text/javascript" src="build/app.js"></script>
    <script type="text/javascript" src="static/gamepadPort.js"></script>
    <script type="text/javascript" src="static/mousePort.js"></script>
    <script type="text/javascript" src="static/localStoragePort.js"></script>
  </head>
  <body>
    <div id='herzog-drei'></div>
    <script type="text/javascript">
        // A single source of truth for the local storage key avoids frustrating bugs
        // We pass gamepadDatabaseKey and gamepadDatabaseAsString as flags to Elm
        var gamepadDatabaseKey = "gamepadDatabase";
        var elmApp = Elm.Main.init({
          node: document.getElementById('herzog-drei'),
          flags: {
          gamepadDatabaseKey: gamepadDatabaseKey,
          gamepadDatabaseAsString: localStorage[gamepadDatabaseKey] || "",
          }
        });
        addGamepadPort(elmApp);
        addMousePort(elmApp);
        addLocalStoragePort(elmApp);
    </script>
  </body>
</html>
